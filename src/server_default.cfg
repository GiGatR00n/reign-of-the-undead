//
// Rotu 2.2 server.cfg
//

//******************************************************************************
// C O L O U R     C O D E S
//******************************************************************************
// Colors for text. Do not clear the comment in front of the color codes.
// Useful for your server name, motd msg's - Information and ref use only
//
// ^1 = Red
// ^2 = Green
// ^3 = Yellow
// ^4 = Blue
// ^5 = Cyan
// ^6 = pink/Magenta
// ^7 = White
// ^8 = Grey
// ^9 = Maroon
// ^0 = Black


//
// Server Settings
//

// Info
sets sv_hostname "^3My ^1ROTU 2.2 ^2Zombies"

// Does not grant any admin authority--see admin.cfg for that
set _Admin "^1My Admin"
set _Website "example.com"
set _Location "USA"
set _Mod "Reign of the Undead 2.2"
set _ModVer "2.2"
// Server Provider
/// A semi-colon separated list of the server providers.  They will show up in the end-game
/// credits in the order listed.  Carat color codes are acceptable
/// Ex: "John Q. Public;Jane Doe;John Smith"
set server_provider "^6My Server Provider"

// Passwords
set rcon_password ""            // Rcon pass.  Must be set!
set sv_privatePassword ""       // Private password, to access private slots
set g_password ""               // Game password.  If set, players can't join without this password

// Player slots setup
set sv_maxclients "40"      // MAX server player slots, this is TOTAL player slots
set ui_maxclients "40"      // Same as max slots
set sv_privateclients ""    // Number of private player slots, maxclients - privateclients = public sl

// Voice
set sv_voice "0"
set sv_voiceQuality "9"
set voice_deadChat "1"
set voice_global "1"
set voice_localEcho "0"
set winvoice_mic_mute "1"

// Download
set sv_allowDownload "1"
set sv_wwwDownload "1"
set sv_wwwDlDisconnected "0"
/// URL to a redirect server for fast downloads, if you have one
set sv_wwwBaseURL ""

// Ping
set sv_minPing "0"      // MIN player ping on CONNECT, any lower and player isnt allowed to connect
set sv_maxping "350"    // MAX player ping on CONNECT, any higher and player isnt allowed to connect
set net_noipx "1"       // Allow ONLY tcp/ip protocol, player/server communications
set g_antilag "1"

// AntiFlood Settings
set sv_floodProtect "1"
set sv_reconnectlimit "3"
set g_no_script_spam "1"

// Anti Cheat Settings
set sv_disableClientConsole "1"
set cl_autocmd "0"
set sv_pure "1"
set g_banIPs ""
set sv_punkbuster "0"

// Log Settings
// The cod4 main logfile is console_mp.log.  It logs game initialization, dvars, and runtime errors
// g_log logs chat, join/quit messages, errors, notices, and debug info (when enabled)
set g_log "server_mp.log"
// write to logfile immediately, without buffering.  Req'd by B3
set g_logsync 2
set logfile 1
set sv_log_damage 1

// Allow in-game voting?  Has no effect of end-game map voting.
set g_allowVote "0"

set sv_maxRate "25000"
set sv_maxRate 25000

// Network options - typically not needed for a dedicated server
//set net_ip ""              // Set your servers IP address
//set net_port ""            // Set your port number

//
// Debug settings
//
// These options control what debugging information is written to the g_log file
// (server_mp.log by default).
//
// Function, value, and signal messages will not be printed, regardless of these
// settings, unless you are running the debug version of rotu_svr_scripts.iwd
// (as the non-debug version has these statements removed for maximum server performance).
// Notice and error messages are always printed.  Warning messages are printed
// regardless of which version of server scripts you are running, if they are
// turned on below.

/// Most functions can print a notice when program flow reaches them.  This
/// boolean value [0|1] turns the printing of these messages off/on.
set debug_print_function_entry_messages 0
/// Print value messages?  These are used to print specific information to help
/// debug the code.  If you aren't changing the code, it is probably best to leave
/// this at 0.
set debug_print_value_messages 1
/// Print signal messages?  These are used to log when certain signals are emitted,
/// to help debug race conditions. If you aren't changing the code, it is probably best to leave
/// this at 0.
set debug_print_signal_messages 0

/// Print warning messages?  The code will sometimes print warning messages, typically
/// to inform you that there is an error or omission in the config files.  It is
/// best to leave this set to 1.
set debug_print_warning_messages 1

/// Controls how many function entrance debug statements are printed.  Roughly a
/// geometric series, i.e. each higher level prints about twice as many statements
/// as all the lower levels combined. Integer in the range of [0,7]. Regardless
/// of this setting, no function entrance messages will be printed unless
/// debug_print_function_entry_messages is turned on, and you are running the debug
/// version of the server scripts.
set debug_verbosity 0

//
// Maprotation
//
/// If end-game map voting is enabled, this dvar has no effect other than the first
/// map listed will be the one loaded when the server starts/restarts.  Map voting
/// and changing maps is governed by mapvote.cfg
set sv_maprotation "gametype SURV map mp_fnrp_bridge"




// Rotu 2 Settings

// Time between waves
set surv_timeout 35

// Total bot count
set bot_count 20

set g_gametype surv // War works too

// Zombie Spawnprotection
set zom_spawnprot 1
set zom_spawnprot_decrease 1 // Spawnprotection decreases over time
set zom_spawnprot_time  6

//Infection

set zom_infectiontime 15
set zom_infection 1

//Difficulty
set game_difficulty 4 // 1 easy - 4 hardest
set zom_dynamicdifficulty 3 // Difficulty depends on amount of players
//set zom_dynamicdifficulty 4

set zom_health 9000

/// Used for Survival Quick War only ??
set surv_waveInitialZombies 20

set surv_waveIncrease 5 // New zombies per wave
set surv_wavePlayerIncrease 0.333 // Added percentage per player
set surv_waveHealthIncrease 0.15 // Zombie health increase in percentage
set surv_waveInitialSPM 300 // Spawns per 2 minutes, increases over time
set surv_wavePrepareTime 15

/// Team name for the zombies.  Default is "^9Zombies"
set g_TeamName_Axis "^9Zombies"
/// Team name for the human players.  Default is "^8Survivors..."
set g_TeamName_Allies "^8Survivors..."

//
// Welcome Messages
//
/// Show welcome messages when a player joins the game?
/// Values: [0 | 1], where 1 = yes, true; 0 = no, false
set game_welcomemessages 1

/// Actual welcome messages.  For game-play reasons, welcome messages should be
/// limited to 4-5 messages.  Messages will be displayed in sequence.  Only
/// shown if game_welcomemessages is 1.
/// Tokens in the messages will be replaced.  The following tokens are implemented:
///     :NAME:          ==> the players name
///     :PRESTIGE:      ==> the players prestige level
///     :MAX_PRESTIGE:  ==> the maximum prestige level
///
///  N.B. Attempting to use a token that is unimplemented will cause errors and/or crashes
///
/// To help prevent G_FindConfigstringIndex: overflow... crash errors, try to keep all the
/// player-specific info in a single message!
set message_welcome1 "^3Welcome to ^5My RotU 2.2 ^1Zombies!!!"
set message_welcome2 "^2Respect ^1ALL ^3Players ^1and ^3Rules ^3!!!"
set message_welcome3 "Glitching and Bad Language will get you ^1BANNED"
set message_welcome4 "^3:NAME:, ^3your prestige level is ^1:PRESTIGE:/:MAX_PRESTIGE:."

// Gameplay Settings
/// Zombie kill score scaling factor.  Integer in the range of [1, 10000].
/// Default is 25
set game_rewardscale 15

/// Number of upgrade points at beginning of game.  Integer in the range of [0, 100000].
/// Default is 2000
set game_startpoints 6000

/// Maximum number of barrels (excluding barrel-mounted machine guns).  Integer in
/// the range of [0, 30].  Default is 12
set game_max_barrels 12

/// Maximum number of teleporters.  Integer in the range of [0, 10].  Default is 3
set game_max_portals 4
/// Time a teleporter lasts, in seconds.  Integer in the range of [10, 99999].
/// Default is 180
set game_portal_time 600


/// Should machine guns overheat? [0|1]
set game_mg_overheat 1

/// Barrel temperature ranges from 0 to 100, cool to hot, respectively.
/// game_mg_overheat_speed is the temperature increase per 0.05 sec while firing.
/// game_mg_cooldown_speed is the temperature decrease per 0.05 sec while not firing.
/// Small changes in these values can have a large impact. Floats
set game_mg_overheat_speed 1.5
set game_mg_cooldown_speed 2.5


/// Percentage of players that need to be alive to for other players to spawn
set game_spawn_requirement 0.4
set game_class_ranks 1 // Use class ranks, disable for LAN server


// Environment
set hud_survivors_left 1 // enable or disable
set hud_survivors_down 1 // enable or disable


set env_ambient 1 // Ambient music
set env_fog 0 // Fog is awesome
set env_fog_start_distance 450
set env_fog_half_distance 580
set env_blur .01 // Blur players screens

//
// Zombies Per Wave Settings
//
/// Wave system
/// Governs how many zombies will appear in a given wave. One of [0|1|2|3]
///
/// Notation:
/// a == surv_zombies_perplayer
/// b == surv_zombies_initial
/// c == surv_zombies_perwave
/// p == players
/// w == waveNumber
/// z == zombiesInWave
///
/// surv_wavesystem 0
///     A linear function of the number of players in the game:
///     zombiesInWave = surv_zombies_perplayer * numberOfPlayersInGame + surv_zombies_initial
///     z = a*p + b
///     Need to set: surv_zombies_perplayer, surv_zombies_initial
///
/// surv_wavesystem 1
///     A linear function of the wave number:
///     zombiesInWave = surv_zombies_perwave * waveNumber + surv_zombies_initial
///     z = c*w + b
///     Need to set: surv_zombies_perwave, surv_zombies_initial
///
/// surv_wavesystem 2
///     A composition of a linear function of the wave number and a linear function of the number of players in the game:
///     zombiesInWave = (waveNumber * surv_zombies_perwave + surv_zombies_perplayer) * numberOfPlayersInGame + surv_zombies_initial
///     z = (w*c+a)*p + b
///     Need to set: surv_zombies_perplayer, surv_zombies_perwave, surv_zombies_initial
///
/// surv_wavesystem 3
///     A linear combination of a function of the wave number and a function of the number of players in the game:
///     zombiesInWave = (surv_zombies_perwave * waveNumber) + (surv_zombies_perplayer * numberOfPlayersInGame) + surv_zombies_initial
///     z = (c*w) + (a*p) + b
///     Need to set: surv_zombies_perplayer, surv_zombies_perwave, surv_zombies_initial
///
/// See zombie_wave_calculator.xls to play around with these wave systems and parameters
set surv_wavesystem 2
set surv_zombies_initial 20
set surv_zombies_perplayer 5
set surv_zombies_perwave 3


//
// Total number of waves
//
/// Wave count system. String, one of [2.1|2.2].
/// For 2.1, set the properties:
///     surv_specialwaves, surv_specialinterval, surv_waves_repeat, and
///     surv_special1 through surv_special[surv_specialwaves]
///
/// For 2.2, set the properties:
///     surv_total_waves, surv_special1 through surv_special[n], and surv_special_final
///
/// The 2.2 system allows for any number of special waves, and for specifying an
/// arbitrary number of total waves.  The special waves and the regular waves will
/// appear psuedo-randomly, except that surv_special_final specifies what the final
/// wave will be.  Total waves must be greater than or equal to the number of
/// special waves defined plus the special final wave.
/// Ex.: If it is set for 8 total waves, with 4 special waves defined, plus the
/// special final wave, there will be 4 special waves and 3 regular waves, which
/// will appear randomly, plus the final wave.
set surv_wave_count_system "2.2"
/// For the 2.1 system, the total number of waves is calculated as:
///
/// regular waves = surv_specialwaves * (surv_specialinterval - 1)
/// special waves = surv_specialwaves
/// total waves = surv_waves_repeat * (regular waves + special waves)
///
/// It only depends on surv_specialinterval and surv_waves_repeat
///
/// Special wave frequency. Every nth wave will be a special wave. Integer from [1, n]
/// If 1, there will be no regular waves, only special waves. Rotu 2.1 only.
set surv_specialinterval 2 //1
/// How many times shall the waves repeat. 1 means no repeat, 2 means repeat
/// twice, etc.  Rotu 2.1 only.
set surv_waves_repeat 1

/// The total number of waves. Integer in the range [n, 20], where n = number
/// of special waves defined + the final special wave.  Rotu 2.2 only.
set surv_total_waves 15
/// The special wave to use for the final wave.  Rotu 2.2 only.
set surv_special_final "boss"

//
// Final (single) Boss Settings (as opposed to the planned multiple bosses final wave)
//
/// Do a round of damage to the final zombie with these types of weapons?
/// Boolean values, [0|1], false, true respectively.
set surv_boss_do_explosives 1
set surv_boss_do_primary 1
set surv_boss_do_sidearm 1
set surv_boss_do_melee 1

/// Factors to make each round of damage easier or harder.  Floats.  Values between
/// 0.0 and 1.0 make it easier, values above 1.0 make it harder.
set surv_boss_explosives_factor 1.5
set surv_boss_primary_factor 2.0
set surv_boss_sidearm_factor 2.0
set surv_boss_melee_factor 1.5

/// Factors to increase the frequency of kill balls on final zombie.  Floats.
/// Values between 0.0 and 1.0 make them less frequent, values above 1.0 make them
/// more frequent.
set surv_boss_killball_factor 1.5

//
// Special Waves
//
/// How many special waves do you want? Default: 5.
set surv_specialwaves 8

/// For Rotu 2.1, the number of surv_special[n] dictates the order the special
/// wave appears.  For Rotu 2.2, the number has no significance.
///
/// Special waves implemented: burning, toxic, runners, tank, dog, burning_dog,
/// cyclops, inferno, random, burning_tank.  'inferno' is a mix of burning,
/// burning_tank, and burning_dog. 'random' is a mix of all special zombies.
///
/// For an 'easy' version of the game, we suggest not using the 'random' special
/// wave type, the burning_dog wave type, the burning_tank type, and only having about 40% of the
/// waves be special waves.

/// 1st special wave.
set surv_special1 "dog"
/// 2nd special wave.
set surv_special2 "random"
/// 3rd special wave.
set surv_special3 "toxic"
/// 4th special wave.
set surv_special4 "inferno"
/// 5th special wave.
set surv_special5 "tank"
/// 6th special wave.
set surv_special6 "burning_dog"
/// 7th special wave.
set surv_special7 "runners"
/// 8th special wave.
set surv_special8 "cyclops"


//
//  Second-half Difficulty
//
/// After 1/2 the waves, zombie health, damage, and run speed increases by 20% to 60%
/// to make the game harder.  This factor scales those increases.  A decimal value
/// in the range 0.0 to 1.0, where 0.0 is no increase, and 1.0 is the full hardcoded
/// increase.  Applies when surv_wave_count_system is 2.1 or 2.2
set surv_second_half_zombie_difficulty_factor 1.0

/// In regular waves, every nth zombie is a random special zombie.  Integer in the
/// range [0, 30], default is 10.
set surv_nth_zombie_is_special 10

/// How many zombies in a special wave? Scales the number of zombies the wave system
/// calculates.  Float in the range [0.0, 1.0], where 0.0 is no zombies in the wave,
/// 1.0 is the same size as if it were a regular wave.  Default is 0.33, for 1/3 as
/// many zombies as a regular wave.  Does not apply to cyclops or final zombie waves.
set surv_special_wave_size_factor 0.33


//
// Slow zombies
//
/// Use slow zombies. One of [0|1].  Default is 1.
/// 0 means no slow zombies, 1 means all slow zombies
/// Does not affect dogs and burning zombies
set surv_slow_zombies 0
set surv_slow_start 0 // deprecated

/// Decrease in the overall chance of a slow zombie with each wave. A decimal in
/// the range of [0.0, 1.0], where 0.10 is a 10% decrease in chance of a slow
/// zombie per wave.  Does not affect dogs and burning zombies.  Has no effect if
/// surv_slow_zombies is 0.
set surv_decrease_slow_zombies_per_wave 0.10

set surv_slow_waves 0 // deprecated

//
// Punishment
//
/// How many demerits before the player loses 500 rank points?  Demerits are issued
/// for damaging a teammate by killing a burning zombie, for failing to revive
/// everyone between waves, and for leveaing players down too long during a wave.
set surv_max_demotion_demerits 20

/// How many demerits to give a player when they injure a teammate by killing a
/// burning zombie
set surv_burning_zombie_demerit_size 1

/// How many demerits to give a player when they become a zombie, even though they
/// had time and money to get cured or to buy a cure
set surv_becoming_a_zombie_demerit_size 1

/// During intermission, each player is tracked to see if they had time to revive
/// zero, one, or two down/zombie teammates, and also how many players/zombies
/// they revived/killed.  For each teammate they could have revived/killed, but
/// didn't, they get one demerit times this demerit factor.  Integer in the range
/// of [1, 5]. Default is 1.
set surv_intermission_revive_failure_demerit_factor 1

//
// End of round reviving
//
/// Automatically revive players at the end of each round. One of [0|1]
set surv_endround_revive 0

// Survival Settings
/// Type of survival game.  One of "waves_special" or "waves_endless"
set surv_defaultmode "waves_special"

/// Weapon and ammo mode.  One of "upgrade" or "wawzombies"
set surv_weaponmode "upgrade"

/// Only if surv_weaponmode == "wawzombies"
set surv_waw_spawnprimary ""                // Primary weapon
set surv_waw_spawnsecondary "beretta_mp"    // Secondary weapon
set surv_waw_costs 2000                     // cost of a new weapon
set surv_waw_alwayspay 1                    // Pay when using or when bought

/// Shop costs
/// Costs are in upgrade points. Valid values are integers in the range [1, 250000]
set shop_item1_costs 1500           // Restore Health.      Default: 2000
set shop_item2_costs 2000           // Restore Ammo         Default: 1500
set shop_item3_costs 1500           // Cure Infection       Default: 3500
set shop_item4_costs 2000           // Grenades             Default: 1000
set shop_item5_costs 1500           // C4                   Default: 10000
set shop_item6_costs 10000          // Raygun               Default: 10000

set shop_defensive1_costs 3000      // Barrel               Default: 1000
set shop_defensive2_costs 1250      // Claymore             Default: 1250
set shop_defensive3_costs 5000      // Exploding Barrel     Default: 1750
set shop_defensive4_costs 15000     // Grenade Turret       Default: 4000
set shop_defensive5_costs 7500      // MG+Barrel was 10000  Default: 7500
set shop_defensive6_costs 12500     // Minigun Turret       Default: 10000
set shop_defensive7_costs 10000     // Portal               Default: 10000


//
// Additional (Req'd) Configuration Files
//

// Parse weapon damage and distance dvars in damage.cfg
exec damage.cfg

// Parse the in-game 'Did You Know' messages
exec didyouknow.cfg

// Parse the administrator and warnings system dvars
exec admin.cfg

// Parse the map voting dvars in mapvote.cfg
exec mapvote.cfg

// Parse the weapons dvars in weapons.cfg
exec weapons.cfg

// The settings in easy.cfg are all specified elsewhere, but override those settings
// if this line is uncommented.  easy.cfg is just a convenient collection of settings
// that can make the game much easier, with default settings for an 'easy' version
// of the game.  This must remain that last config file exec'd for it to work properly!
// exec easy.cfg
